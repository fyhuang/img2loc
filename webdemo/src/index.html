<!DOCTYPE html>
<html lang="en">
<head>
  <title>A JavaScript project</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css">
  <link rel="stylesheet" href="style.css">

  <!-- fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

  <!-- onnxruntime -->
  <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>

  <!-- leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
</head>
<body>
  <div class="content">
    <h1 id="title">Image To Geolocation</h1>

    <p>This is a demo of Img2loc, a model that localizes a photo to a point on Earth. Select an image from your computer to begin, or try out one of the preselected examples.</p>

    <div id="io" class="pure-g">
      <div class="pure-u-1 pure-u-md-1-3">
        <canvas id="input-image-canvas" width="224" height="224"></canvas>
      </div>

      <div class="pure-u-1 pure-u-md-1-3 large-icon">&#8658;</div>

      <div class="pure-u-1 pure-u-md-1-3">
        <div id="output-map"></div>
      </div>
    </div>

    <div id="status-display">Select an image below</div>
    

    <h2>Your Own Images</h2>
    <p>Inference happens completely client-side in JavaScript. Your data does not leave your computer. Feel free to use the network inspector to confirm!</p>
    <p>
      <input type="file" id="image-file" accept="image/png,image/jpeg" />
    </p>

    <h2>Examples</h2>
    <div id="examples" class="pure-g">
      <!--<div class="pure-u-1 pure-u-md-1-3">
        <img src="examples/sv__0IFyG3VFWd7XfHiy1LY9w.jpg">
        <div class="caption">Caption</div>
      </div>-->
    </div>
  </div>

  <!-- Hidden img for loading user file -->
  <img id="input-image">
  <script src="main.js" type="module"></script>
</body>
</html>